# jobs template

parameters:
  name:
  displayName:
  pool:
  buildPlatforms: []
  buildConfigurations: []

jobs:
  - job: ${{ parameters.name }}
    displayName: ${{ parameters.displayName }}
    pool: ${{ parameters.pool }}

    variables:
      - group: Windows Build Variables
      - group: Global Build Variables

    strategy:
      matrix:
        ${{ each platform in parameters.buildPlatforms }}:
          ${{ each configuration in parameters.buildConfigurations }}:
            ${{ format('{0}|{1}', platform, configuration) }}:
              BuildPlatform: $(platform)
              BuildConfiguration: $(configuration)

    steps:
      - checkout: self
        clean: false

      - task: PowerShell@2
        displayName: Show Variables
        inputs:
          targetType: inline
          script: |
            echo "[${env:Job_VmImage}]"
            echo "[${env:Job_TimeoutInMinutes}]"
            echo "[${env:Job_CancelTimeoutInMinutes}]"
            echo "[${env:BuildPlatform}]"
            echo "[${env:BuildConfiguration}]"
